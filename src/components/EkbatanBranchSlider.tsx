"use client";

import React, { useEffect, useState } from "react";
import {
  ButtonBack,
  ButtonNext,
  CarouselProvider,

  Slide,
  Slider,
} from "pure-react-carousel";
import "pure-react-carousel/dist/react-carousel.es.css";

import RightArrow from "../assets/BannerSlider/RightArrow.jsx";
import LeftArrow from "../assets/BannerSlider/LeftArrow.jsx";
import Image from "next/image";
import MotionDiv from "./MotionDiv";

interface BannerSliderProps {
  images: string[];
}

function EkbatanBranchSlider({ images }: BannerSliderProps) {
  const [width, setWidth] = useState(window.innerWidth);
  const [height, setHeight] = useState(window.innerHeight);

  useEffect(() => {
    const handleResize = () => {
      setWidth(window.innerWidth);
      setHeight(window.innerHeight);
    };

    window.addEventListener("resize", handleResize);

    return () => {
      window.removeEventListener("resize", handleResize);
    };
  }, []);

  console.log(width, height);

  function heightHandler(height: number, width: number) {
    if (width >= 768) {
      return width / 336;
    } else {
      return width / 176;
    }
  }

  return (<div className="mb-[10%]">
    <MotionDiv>
      <h1 className="font-primary font-bold text-[20px] text-center mb-3">شعبه اکباتان</h1>
      <CarouselProvider
        naturalSlideHeight={1}
        naturalSlideWidth={heightHandler(height, width)}
        totalSlides={images.length}
        className=" md:h-[336px] h-[176px] relative"
      >
        <Slider className="  relative">
          {images.map((image, index) => {
            return (
              <Slide
                key={index}
                index={index}
                className=" w-full  relative md:max-h-[336px] h-[176px]"
              >
                <div className=" md:h-[336px] h-[176px] w-full absolute left-0 right-0 top-0" />
                <div className=" md:h-[336px] h-[176px] w-full absolute left-0 right-0 top-0" />
                <Image
                  src={image}
                  alt="image"
                  width={1080}
                  height={1080}
                  className=" md:h-[336px] h-[176px] w-full object-cover"
                />
              </Slide>
            );
          })}
    
        </Slider>
        <div className="flex justify-center relative bottom-[30px] mb-[230px] pt-[-60px]">
        <div className="font-primary w-[810px] h-[130px] border-solid border-4 border-[#417F56] bg-white rounded-md flex justify-center items-center space-x-8" >
       
       {/* clock */}
     <div className="w-[209.33px] h-[98px] flex flex-col items-center text-center">
     <div className="mb-3">
       <svg width="33" height="32" viewBox="0 0 33 32"
       fill="none" xmlns="http://www.w3.org/2000/svg">
       <path d="M16.6663 30.3334C8.75968 30.3334 2.33301 23.9067 2.33301 16.0001C2.33301 8.09342 8.75968 1.66675 16.6663 1.66675C24.573 1.66675 30.9997 8.09342 30.9997 16.0001C30.9997 23.9067 24.573 30.3334 16.6663 30.3334ZM16.6663 3.66675C9.86634 3.66675 4.33301 9.20008 4.33301 16.0001C4.33301 22.8001 9.86634 28.3334 16.6663 28.3334C23.4663 28.3334 28.9997 22.8001 28.9997 16.0001C28.9997 9.20008 23.4663 3.66675 16.6663 3.66675Z" fill="#353535"/>
       <path d="M21.6132 21.2401C21.4399 21.2401 21.2665 21.2001 21.1065 21.0934L16.9732 18.6268C15.9465 18.0134 15.1865 16.6668 15.1865 15.4801V10.0134C15.1865 9.46676 15.6399 9.01343 16.1865 9.01343C16.7332 9.01343 17.1865 9.46676 17.1865 10.0134V15.4801C17.1865 15.9601 17.5865 16.6668 17.9999 16.9068L22.1332 19.3734C22.6132 19.6534 22.7599 20.2668 22.4799 20.7468C22.2799 21.0668 21.9465 21.2401 21.6132 21.2401Z" fill="#353535"/>
       </svg>
     </div>
       
       <p>همه‌روزه از ساعت ۱۲ الی ۲۳</p>
     </div>

     {/* location */} 
     <div className="w-[209.33px] h-[98px] flex flex-col items-center text-center">
       <div className="mb-3">
         <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
         <path d="M15.9998 18.8933C13.1598 18.8933 10.8398 16.5867 10.8398 13.7333C10.8398 10.88 13.1598 8.58667 15.9998 8.58667C18.8398 8.58667 21.1598 10.8933 21.1598 13.7467C21.1598 16.6 18.8398 18.8933 15.9998 18.8933ZM15.9998 10.5867C14.2665 10.5867 12.8398 12 12.8398 13.7467C12.8398 15.4933 14.2532 16.9067 15.9998 16.9067C17.7465 16.9067 19.1598 15.4933 19.1598 13.7467C19.1598 12 17.7332 10.5867 15.9998 10.5867Z" fill="#353535"/>
         <path d="M16.0002 30.3467C14.0269 30.3467 12.0402 29.6001 10.4936 28.1201C6.56023 24.3334 2.21357 18.2934 3.85357 11.1067C5.33357 4.58675 11.0269 1.66675 16.0002 1.66675C16.0002 1.66675 16.0002 1.66675 16.0136 1.66675C20.9869 1.66675 26.6802 4.58675 28.1602 11.1201C29.7869 18.3067 25.4402 24.3334 21.5069 28.1201C19.9602 29.6001 17.9736 30.3467 16.0002 30.3467ZM16.0002 3.66675C12.1202 3.66675 7.13357 5.73341 5.81357 11.5467C4.37357 17.8267 8.32023 23.2401 11.8936 26.6667C14.2002 28.8934 17.8136 28.8934 20.1202 26.6667C23.6802 23.2401 27.6269 17.8267 26.2136 11.5467C24.8802 5.73341 19.8802 3.66675 16.0002 3.66675Z" fill="#353535"/>
         </svg>
       </div>
       <p>شهرک اکباتان، فاز ۳، مجتمع تجاری کوروش، طبقه سوم</p>
     </div>

     {/* phone */}
     <div className="w-[209.33px] h-[98px] flex flex-col items-center text-center">
       <div className="mb-3">
         <svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
         <path d="M23.5995 30.3334C22.0928 30.3334 20.5062 29.9734 18.8662 29.2801C17.2662 28.6001 15.6528 27.6667 14.0795 26.5334C12.5195 25.3867 11.0128 24.1068 9.58618 22.7067C8.17285 21.2801 6.89285 19.7734 5.75951 18.2267C4.61285 16.6267 3.69285 15.0267 3.03951 13.4801C2.34618 11.8267 1.99951 10.2267 1.99951 8.72008C1.99951 7.68008 2.18618 6.69341 2.54618 5.77341C2.91951 4.82675 3.51951 3.94675 4.33285 3.18675C5.35951 2.17341 6.53285 1.66675 7.78618 1.66675C8.30618 1.66675 8.83951 1.78675 9.29284 2.00008C9.81284 2.24008 10.2528 2.60008 10.5728 3.08008L13.6662 7.44008C13.9462 7.82675 14.1595 8.20008 14.3062 8.57341C14.4795 8.97341 14.5728 9.37341 14.5728 9.76008C14.5728 10.2667 14.4262 10.7601 14.1462 11.2267C13.9462 11.5867 13.6395 11.9734 13.2528 12.3601L12.3462 13.3067C12.3595 13.3467 12.3728 13.3734 12.3862 13.4001C12.5462 13.6801 12.8662 14.1601 13.4795 14.8801C14.1328 15.6267 14.7462 16.3067 15.3595 16.9334C16.1462 17.7067 16.7995 18.3201 17.4128 18.8267C18.1728 19.4667 18.6662 19.7867 18.9595 19.9334L18.9328 20.0001L19.9062 19.0401C20.3195 18.6267 20.7195 18.3201 21.1062 18.1201C21.8395 17.6667 22.7728 17.5867 23.7062 17.9734C24.0528 18.1201 24.4262 18.3201 24.8262 18.6001L29.2528 21.7467C29.7462 22.0801 30.1062 22.5067 30.3195 23.0134C30.5195 23.5201 30.6128 23.9867 30.6128 24.4534C30.6128 25.0934 30.4662 25.7334 30.1862 26.3334C29.9062 26.9334 29.5595 27.4534 29.1195 27.9334C28.3595 28.7734 27.5328 29.3734 26.5728 29.7601C25.6528 30.1334 24.6528 30.3334 23.5995 30.3334ZM7.78618 3.66675C7.05285 3.66675 6.37285 3.98675 5.71951 4.62675C5.10618 5.20008 4.67951 5.82675 4.41285 6.50675C4.13285 7.20008 3.99951 7.93341 3.99951 8.72008C3.99951 9.96008 4.29285 11.3067 4.87951 12.6934C5.47951 14.1067 6.31951 15.5734 7.38618 17.0401C8.45285 18.5067 9.66618 19.9334 10.9995 21.2801C12.3328 22.6001 13.7728 23.8267 15.2528 24.9067C16.6928 25.9601 18.1728 26.8134 19.6395 27.4267C21.9195 28.4001 24.0528 28.6267 25.8128 27.8934C26.4928 27.6134 27.0928 27.1867 27.6395 26.5734C27.9462 26.2401 28.1862 25.8801 28.3862 25.4534C28.5462 25.1201 28.6262 24.7734 28.6262 24.4267C28.6262 24.2134 28.5862 24.0001 28.4795 23.7601C28.4395 23.6801 28.3595 23.5334 28.1062 23.3601L23.6795 20.2134C23.4128 20.0267 23.1728 19.8934 22.9462 19.8001C22.6528 19.6801 22.5328 19.5601 22.0795 19.8401C21.8128 19.9734 21.5728 20.1734 21.3062 20.4401L20.2928 21.4401C19.7728 21.9467 18.9728 22.0667 18.3595 21.8401L17.9995 21.6801C17.4528 21.3867 16.8128 20.9334 16.1062 20.3334C15.4662 19.7867 14.7728 19.1467 13.9328 18.3201C13.2795 17.6534 12.6262 16.9467 11.9462 16.1601C11.3195 15.4267 10.8662 14.8001 10.5862 14.2801L10.4262 13.8801C10.3462 13.5734 10.3195 13.4001 10.3195 13.2134C10.3195 12.7334 10.4928 12.3067 10.8262 11.9734L11.8262 10.9334C12.0928 10.6667 12.2928 10.4134 12.4262 10.1867C12.5328 10.0134 12.5728 9.86675 12.5728 9.73342C12.5728 9.62675 12.5328 9.46675 12.4662 9.30675C12.3728 9.09341 12.2262 8.85341 12.0395 8.60008L8.94618 4.22675C8.81285 4.04008 8.65285 3.90675 8.45285 3.81341C8.23951 3.72008 8.01285 3.66675 7.78618 3.66675ZM18.9328 20.0134L18.7195 20.9201L19.0795 19.9867C19.0128 19.9734 18.9595 19.9867 18.9328 20.0134Z" fill="#353535"/>
         <path d="M24.9997 12.9999C24.453 12.9999 23.9997 12.5466 23.9997 11.9999C23.9997 11.5199 23.5197 10.5199 22.7197 9.66658C21.933 8.82659 21.0663 8.33325 20.333 8.33325C19.7863 8.33325 19.333 7.87992 19.333 7.33325C19.333 6.78659 19.7863 6.33325 20.333 6.33325C21.6263 6.33325 22.9863 7.02658 24.173 8.29325C25.2797 9.47992 25.9997 10.9333 25.9997 11.9999C25.9997 12.5466 25.5463 12.9999 24.9997 12.9999Z" fill="#353535"/>
         <path d="M29.6663 13.0001C29.1197 13.0001 28.6663 12.5467 28.6663 12.0001C28.6663 7.40008 24.933 3.66675 20.333 3.66675C19.7863 3.66675 19.333 3.21341 19.333 2.66675C19.333 2.12008 19.7863 1.66675 20.333 1.66675C26.0263 1.66675 30.6663 6.30675 30.6663 12.0001C30.6663 12.5467 30.213 13.0001 29.6663 13.0001Z" fill="#353535"/>
         </svg>
       </div>
       <p>۰۲۱-۳۳۵۳۵۳۵۴</p>
       <p>۰۲۱-۳۳۵۳۵۳۵۶</p>
     </div>

   
   </div> 
        </div>
        <ButtonBack className=" absolute left-8 z-10 disabled:opacity-0 hidden md:block text-white top-[50%] ">
          <LeftArrow />
        </ButtonBack>

        <ButtonNext className=" absolute right-8 z-10 hidden disabled:opacity-0 md:block text-white  top-[50%] ">
          <RightArrow />
        </ButtonNext>
      </CarouselProvider>
     
    </MotionDiv> </div>
  );
}

export default EkbatanBranchSlider;
